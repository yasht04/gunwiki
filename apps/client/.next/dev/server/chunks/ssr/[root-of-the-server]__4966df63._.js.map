{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Acer/Desktop/GUN/apps/client/src/components/DeleteButton.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nexport default function DeleteButton({ id }: { id: string }) {\r\n  const router = useRouter();\r\n\r\n  const handleDelete = async () => {\r\n    // 1. Ask for the password\r\n    const password = prompt(\"üîê Enter Admin Password to delete this gun:\");\r\n    \r\n    if (!password) return; // If they hit Cancel, stop everything.\r\n\r\n    // 2. Send the DELETE request WITH the password in the headers\r\n    const res = await fetch(`http://127.0.0.1:4000/guns/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"admin-secret\": password // <--- This is the key!\r\n      }\r\n    });\r\n\r\n    if (res.ok) {\r\n      alert(\"‚úÖ Gun deleted successfully!\");\r\n      router.push(\"/\"); // Go back home\r\n      router.refresh(); // Refresh the list\r\n    } else {\r\n      alert(\"‚ùå WRONG PASSWORD! Access Denied.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button \r\n      onClick={handleDelete}\r\n      className=\"bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-xl transition-all shadow-lg hover:shadow-red-500/30\"\r\n    >\r\n      Delete Gun\r\n    </button>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS,aAAa,EAAE,EAAE,EAAkB;IACzD,MAAM,SAAS,IAAA,mLAAS;IAExB,MAAM,eAAe;QACnB,0BAA0B;QAC1B,MAAM,WAAW,OAAO;QAExB,IAAI,CAAC,UAAU,QAAQ,uCAAuC;QAE9D,8DAA8D;QAC9D,MAAM,MAAM,MAAM,MAAM,CAAC,2BAA2B,EAAE,IAAI,EAAE;YAC1D,QAAQ;YACR,SAAS;gBACP,gBAAgB,SAAS,wBAAwB;YACnD;QACF;QAEA,IAAI,IAAI,EAAE,EAAE;YACV,MAAM;YACN,OAAO,IAAI,CAAC,MAAM,eAAe;YACjC,OAAO,OAAO,IAAI,mBAAmB;QACvC,OAAO;YACL,MAAM;QACR;IACF;IAEA,qBACE,kRAAC;QACC,SAAS;QACT,WAAU;kBACX;;;;;;AAIL"}}]
}
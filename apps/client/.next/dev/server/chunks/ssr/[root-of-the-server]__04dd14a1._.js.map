{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Acer/Desktop/GUN/apps/client/src/app/wiki/%5Bid%5D/page.tsx"],"sourcesContent":["import { Gun } from \"../../../types/gun\"; // <--- FIXED: Only 3 dots\r\nimport Link from \"next/link\";\r\n\r\n// Fetch data for a single gun\r\nasync function getGun(id: string): Promise<Gun | null> {\r\n  try {\r\n    // FIXED: Using 127.0.0.1 instead of localhost\r\n    const res = await fetch(`http://127.0.0.1:4000/guns/${id}`, {\r\n      cache: \"no-store\",\r\n    });\r\n    if (!res.ok) return null;\r\n    return res.json();\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n}\r\n\r\n// FIXED: params is now a Promise in Next.js 15+\r\nexport default async function GunDetails(props: { params: Promise<{ id: string }> }) {\r\n  const params = await props.params; // <--- WE MUST AWAIT IT HERE\r\n  const gun = await getGun(params.id);\r\n\r\n  // Error State\r\n  if (!gun) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center\">\r\n        <h1 className=\"text-4xl font-bold mb-4\">Gun Not Found</h1>\r\n        <Link href=\"/\" className=\"text-blue-400 hover:underline\">\r\n          ← Back to Wiki\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Success State\r\n  return (\r\n    <main className=\"min-h-screen bg-gray-900 text-white p-8\">\r\n      <div className=\"max-w-6xl mx-auto\">\r\n        {/* Back Button */}\r\n        <Link \r\n          href=\"/\" \r\n          className=\"inline-flex items-center text-gray-400 hover:text-white mb-8 transition-colors\"\r\n        >\r\n          ← Back to Collection\r\n        </Link>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12\">\r\n          {/* Left Column: Image */}\r\n          <div className=\"relative h-[500px] rounded-2xl overflow-hidden bg-gray-800 border border-gray-700 shadow-2xl\">\r\n            <img\r\n              src={gun.image_url}\r\n              alt={gun.name}\r\n              className=\"w-full h-full object-cover\"\r\n            />\r\n          </div>\r\n\r\n          {/* Right Column: Details */}\r\n          <div className=\"flex flex-col justify-center\">\r\n            <div className=\"mb-2\">\r\n              <span className=\"bg-blue-600 text-sm font-bold px-3 py-1 rounded-full text-white\">\r\n                {gun.manufacturer}\r\n              </span>\r\n            </div>\r\n            \r\n            <h1 className=\"text-6xl font-bold mb-6 tracking-tight\">{gun.name}</h1>\r\n            \r\n            <p className=\"text-xl text-gray-300 mb-8 leading-relaxed\">\r\n              {gun.description}\r\n            </p>\r\n\r\n            {/* Tech Specs Table */}\r\n            <div className=\"bg-gray-800 rounded-xl p-6 border border-gray-700\">\r\n              <h3 className=\"text-lg font-bold mb-4 text-gray-400 uppercase tracking-wider\">\r\n                Technical Specifications\r\n              </h3>\r\n              <div className=\"grid grid-cols-2 gap-y-4\">\r\n                <SpecItem label=\"Caliber\" value={gun.specs.caliber} />\r\n                <SpecItem label=\"Action\" value={gun.specs.action} />\r\n                <SpecItem label=\"Weight\" value={gun.specs.weight} />\r\n                <SpecItem label=\"Length\" value={gun.specs.length} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\n// Helper Component for the table rows\r\nfunction SpecItem({ label, value }: { label: string; value: string }) {\r\n  return (\r\n    <div className=\"border-b border-gray-700 pb-2 mr-4\">\r\n      <span className=\"block text-gray-500 text-xs uppercase mb-1\">{label}</span>\r\n      <span className=\"text-lg font-medium text-white\">{value}</span>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AACA;;;AAEA,8BAA8B;AAC9B,eAAe,OAAO,EAAU;IAC9B,IAAI;QACF,8CAA8C;QAC9C,MAAM,MAAM,MAAM,MAAM,CAAC,2BAA2B,EAAE,IAAI,EAAE;YAC1D,OAAO;QACT;QACA,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO;QACpB,OAAO,IAAI,IAAI;IACjB,EAAE,OAAO,OAAO;QACd,OAAO;IACT;AACF;AAGe,eAAe,WAAW,KAA0C;IACjF,MAAM,SAAS,MAAM,MAAM,MAAM,EAAE,6BAA6B;IAChE,MAAM,MAAM,MAAM,OAAO,OAAO,EAAE;IAElC,cAAc;IACd,IAAI,CAAC,KAAK;QACR,qBACE,kRAAC;YAAI,WAAU;;8BACb,kRAAC;oBAAG,WAAU;8BAA0B;;;;;;8BACxC,kRAAC,8NAAI;oBAAC,MAAK;oBAAI,WAAU;8BAAgC;;;;;;;;;;;;IAK/D;IAEA,gBAAgB;IAChB,qBACE,kRAAC;QAAK,WAAU;kBACd,cAAA,kRAAC;YAAI,WAAU;;8BAEb,kRAAC,8NAAI;oBACH,MAAK;oBACL,WAAU;8BACX;;;;;;8BAID,kRAAC;oBAAI,WAAU;;sCAEb,kRAAC;4BAAI,WAAU;sCACb,cAAA,kRAAC;gCACC,KAAK,IAAI,SAAS;gCAClB,KAAK,IAAI,IAAI;gCACb,WAAU;;;;;;;;;;;sCAKd,kRAAC;4BAAI,WAAU;;8CACb,kRAAC;oCAAI,WAAU;8CACb,cAAA,kRAAC;wCAAK,WAAU;kDACb,IAAI,YAAY;;;;;;;;;;;8CAIrB,kRAAC;oCAAG,WAAU;8CAA0C,IAAI,IAAI;;;;;;8CAEhE,kRAAC;oCAAE,WAAU;8CACV,IAAI,WAAW;;;;;;8CAIlB,kRAAC;oCAAI,WAAU;;sDACb,kRAAC;4CAAG,WAAU;sDAAgE;;;;;;sDAG9E,kRAAC;4CAAI,WAAU;;8DACb,kRAAC;oDAAS,OAAM;oDAAU,OAAO,IAAI,KAAK,CAAC,OAAO;;;;;;8DAClD,kRAAC;oDAAS,OAAM;oDAAS,OAAO,IAAI,KAAK,CAAC,MAAM;;;;;;8DAChD,kRAAC;oDAAS,OAAM;oDAAS,OAAO,IAAI,KAAK,CAAC,MAAM;;;;;;8DAChD,kRAAC;oDAAS,OAAM;oDAAS,OAAO,IAAI,KAAK,CAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQhE;AAEA,sCAAsC;AACtC,SAAS,SAAS,EAAE,KAAK,EAAE,KAAK,EAAoC;IAClE,qBACE,kRAAC;QAAI,WAAU;;0BACb,kRAAC;gBAAK,WAAU;0BAA8C;;;;;;0BAC9D,kRAAC;gBAAK,WAAU;0BAAkC;;;;;;;;;;;;AAGxD"}}]
}